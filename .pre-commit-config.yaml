repos:
- repo: https://github.com/astral-sh/ruff-pre-commit
  rev: v0.14.10
  hooks:
  - id: ruff-check
    args: [--fix]
  
  # Run the formatter.
  - id: ruff-format

- repo: https://github.com/allganize/ty-pre-commit
  rev: v0.0.8
  hooks:
  # Run the type checker.
  - id: ty-check
    exclude: .*test.*.py$

- repo: local
  # must install pdm by `uv tool install pdm`
  # use `pdm run` to activate correct python venv automatically
  hooks:
    - id: cargo-fmt
      name: cargo fmt
      entry: pdm run cargo fmt --all -- --check
      language: system
      pass_filenames: false
      types: [rust]
      
    - id: cargo-check
      name: cargo check
      entry: pdm run cargo check
      language: system
      pass_filenames: false
      types: [rust]
      
    - id: cargo-clippy
      name: cargo clippy
      entry: pdm run cargo clippy -- -D warnings
      language: system
      pass_filenames: false
      types: [rust]